---
layout: post
title:  "Portray: python documentation generator"
comments: true
share: true
tags:
  - documentation
  - python
  - setup
  - self learning
  - demo
  - ux
  - github
  - software development
  - meme
---

<figure style="width: 70%; display:block; margin-left: auto; margin-right: auto;">
  <img src="/assets/images/portray.png" alt="Portray" />
</figure>

## Backstory

Shortly after [my previous post]({% post_url 2023-03-21-hello-world %}), I realized that a Hello world checkpoint for a Python project should include some more things. One of them being a documentation setup, which I will describe in this post.

In my corporate life, I work with [Sphinx](https://www.sphinx-doc.org/en/master/), which I don't like too much. =) This is both ironic and sad because it was originally created for Python documentation. It feels too complex and tedious, which leads to the _tool_ hogging the focus rather than the purpose it was meant for. The idiom _"tail wagging the dog"_ comes to mind. I have also used [Doxygen](https://www.doxygen.nl/) previously which was _a little_ less complex.

I tried a few alternatives, such as [MkDocs](https://www.mkdocs.org/) and [pydoctor](https://pydoctor.readthedocs.io/en/latest/index.html). These are useful and certainly more desirable than Sphinx or Doxygen. However, they still involve many configuration steps, which I find problematic, because it also means more ways for things to break. 

Can you imagine how foolish it feels when you cannot work on developing the actual software because you have to instead fix the tool setup? 

<figure style="width: 80%; display:block; margin-left: auto; margin-right: auto;">
  <img src="/assets/images/aint-nobody-got-time-for-that.jpg" alt="Ain't Nobody Got Time for That" style="width: 100%;"/>
  <figcaption style="text-align: center;">Ain't Nobody Got Time for That</figcaption>
</figure>


Then I discovered [Portray](https://timothycrosley.github.io/portray/), mentioned incidentally in this blog post [Python auto-generated documentation â€” 3 tools that will help document your project](https://medium.com/blueriders/python-autogenerated-documentation-3-tools-that-will-help-document-your-project-c6d7623814ef) by Bartlomiej Skwira.

## Portray setup

The portray setup involves:

* **Install the portray module**<br/>by either:

  - `pip install portray` or 
  - mentioning it as a dependency in the project's `pyproject.toml` *(preferred)*

* **Execute portray**<br/>specifying one of the output targets, such as:

  - `portray in_browser`: hosts the documentation on a local server (at `localhost:8000` by default) and loads it in the default browser.
  - `portray on_github_actions`: if the project is on Github, runs a Github Action to publish the documentation to Github Pages.

That's it!

<figure style="width: 80%; display:block; margin-left: auto; margin-right: auto;">
  <img src="/assets/images/bhai-ye-toh-shuru-hote-hi-khatam-hogaya.jpg" alt="Bhai, ye to shuru hote hi khatam hogaya" style="width: 100%;"/>
  <figcaption  style="text-align: center;">Translation: Bro, this ended as soon as it started!</figcaption>
</figure>

Portray automatically includes modules and module structure, classes, methods, etc., their corresponding source codes, documentation from docstrings into the documentation.

### Additional options and configurations

While Portray's out-of-the-box settings are already impressive, it also provides additional options and configurations:

- **Manual documents in markdown format**: Portray automatically reads a `README.md` file and any markdown files in a `docs` folder inside the project's root directory, generates the HTML pages, and includes them in the generated documentation.

- **Applying themes**: [MkDocs](https://github.com/mkdocs/mkdocs/wiki/MkDocs-Themes) themes can be easily applied to the generated documentation.

Further configuration options are described in [the documentation](https://timothycrosley.github.io/portray/docs/quick_start/4.-configuration/).

## Demo and Further Remarks

I created a short demo video showing the portray setup and use in my hobby project.

<iframe width="560" height="315" src="https://www.youtube.com/embed/ieGfWR2s-nE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

Earlier this week, I started the Coursera course [User Experience Research and Design Specialization](https://www.coursera.org/specializations/michiganux). One of the optional assignments is to share examples of Good UX and Bad UX from one's personal experiences. I am so happy with portray UX that I'm going to submit it as my example of good UX.

Portray appears to be not very well known in the Python community. I hope you would consider giving it some of the love it deserves by trying it in your own projects.